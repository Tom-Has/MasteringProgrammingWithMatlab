function x = voltage(V, R)

%this part is only suitable for R != 0
%G = 1./R;
%A = [G(1) + G(2) + G(7), -G(7), 0;
%     -G(7), G(3) + G(4) + G(7) + G(8), -G(8);
%     0, -G(8), G(5) + G(6) + G(8)];
%b = [G(1); G(3); G(5)] .* V;
%x = A\b;

A = [(R(2)*R(7) + R(1)*R(7) + R(1)*R(2)) -(R(1)*R(2)) 0; 
   -(R(3)*R(4)*R(8)) (R(7)*R(4)*R(8) + R(3)*R(7)*R(8) + R(3)*R(4)*R(8) + R(3)*R(7)*R(4)) -(R(3)*R(4)*R(7));
    0 -(R(5)*R(6)) (R(5)*R(6) + R(8)*R(6) + R(5)*R(8))];
b = [R(2)*R(7); R(4)*R(7)*R(8); R(6)*R(8)] .* V;
x = A\b;
